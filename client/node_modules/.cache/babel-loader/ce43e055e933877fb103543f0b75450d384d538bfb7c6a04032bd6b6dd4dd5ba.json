{"ast":null,"code":"import Layout from\"../components/layout/Layout\";import React,{useEffect,useState}from'react';import axios from\"axios\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetails=()=>{var _product$category;const params=useParams();const[product,setProduct]=useState({});const[relatedP,setRelatedP]=useState([]);useEffect(()=>{if(params!==null&&params!==void 0&&params.slug)getProduct();},[params===null||params===void 0?void 0:params.slug]);const getProduct=async()=>{try{const{data}=await axios.get(\"\".concat(process.env.REACT_APP_API,\"/api/v1/product/get-single-product/\").concat(params.slug));setProduct(data===null||data===void 0?void 0:data.products);getSimilarProducts(data.products._id,data.products.category._id);}catch(error){console.log(error);}};const getSimilarProducts=async(pid,cid)=>{try{const{data}=await axios.get(\"\".concat(process.env.REACT_APP_API,\"/api/v1/product/related-product/\").concat(pid,\"/\").concat(cid));setRelatedP(data===null||data===void 0?void 0:data.products);}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Product Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row container mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:product?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API,\"/api/v1/product/get-product-photo/\").concat(product===null||product===void 0?void 0:product._id),className:\"card-img-top\",alt:product===null||product===void 0?void 0:product.name,style:{height:'30rem',width:\"100%\"}}):/*#__PURE__*/_jsx(\"p\",{children:\"loading picture...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\" PRODUCT DETAILS\"}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Name: \",product===null||product===void 0?void 0:product.name]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Description: \",product===null||product===void 0?void 0:product.description]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Price: \",product===null||product===void 0?void 0:product.price]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Category: \",product===null||product===void 0?void 0:(_product$category=product.category)===null||_product$category===void 0?void 0:_product$category.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-name-price\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary ms-1\",children:\"ADD TO CART\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Similar Products\"}),relatedP.length<1?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"No Similar Products Found\"}):relatedP===null||relatedP===void 0?void 0:relatedP.map(item=>{console.log(item);return/*#__PURE__*/_jsxs(\"div\",{className:\"card m-3\",style:{width:'13rem'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API,\"/api/v1/product/get-product-photo/\").concat(item._id),className:\"card-img-top\",alt:item.name,style:{height:'10rem',width:\"10rem\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",style:{height:'12rem'},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:item.description.substring(0,30)}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:item.price}),/*#__PURE__*/_jsx(\"div\",{className:\"card-name-price\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary ms-1\",children:\"ADD TO CART\"})})]})]},item._id);})]})]})]});};export default ProductDetails;","map":{"version":3,"names":["Layout","React","useEffect","useState","axios","useParams","jsx","_jsx","jsxs","_jsxs","ProductDetails","_product$category","params","product","setProduct","relatedP","setRelatedP","slug","getProduct","data","get","concat","process","env","REACT_APP_API","products","getSimilarProducts","_id","category","error","console","log","pid","cid","children","className","src","alt","name","style","height","width","description","price","length","map","item","substring"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/pages/ProductDetails.js"],"sourcesContent":["import Layout from \"../components/layout/Layout\";\nimport React, { useEffect, useState } from 'react'\nimport axios from \"axios\"\nimport { useParams } from \"react-router-dom\";\n\nconst ProductDetails = () => {\n\n    \n    const params = useParams();\n    const [product, setProduct] = useState({})\n    const [relatedP, setRelatedP] = useState([])\n    \n    useEffect(()=>{\n        if (params?.slug) getProduct();\n    },[params?.slug])\n\n    const getProduct = async() =>{\n        try {\n            const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/product/get-single-product/${params.slug}`)\n            setProduct(data?.products)\n            getSimilarProducts(data.products._id, data.products.category._id)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n\n    const getSimilarProducts = async(pid, cid) =>{\n        try {\n            const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/product/related-product/${pid}/${cid}`)\n            setRelatedP(data?.products)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n  return (\n    <Layout>\n        <h1>Product Details</h1>\n        <div className=\"row container mt-2\">\n            <div className=\"col-md-6\">\n            {product?\n            <img \n                src={`${process.env.REACT_APP_API}/api/v1/product/get-product-photo/${product?._id}`} className=\"card-img-top\" \n                alt={product?.name} \n                style={{height: '30rem', width:\"100%\"}}/>\n            :\n            <p>loading picture...</p>}\n            </div>\n            <div className=\"col-md-6\">\n                <h1 className=\"text-center\"> PRODUCT DETAILS</h1>\n                <h6>Name: {product?.name}</h6>\n                <h6>Description: {product?.description}</h6>\n                <h6>Price: {product?.price}</h6>\n                <h6>Category: {product?.category?.name}</h6>\n                {/* <h6> Shipping: {product.shipping}</h6> */}\n                <div className=\"card-name-price\">                    \n                    <button className=\"btn btn-secondary ms-1\">ADD TO CART</button>\n                </div>\n            </div>\n            <div className=\"row\">\n                <h1>Similar Products</h1>\n                {\n                    relatedP.length < 1 ?\n                    <p className=\"text-center\">No Similar Products Found</p>\n                    : \n                        relatedP?.map(item => {\n                            console.log(item)\n                            return(\n                                <div className=\"card m-3\" style={{width: '13rem'}}  key={item._id}>\n                                \n                                <img src={`${process.env.REACT_APP_API}/api/v1/product/get-product-photo/${item._id}`} className=\"card-img-top\" alt={item.name} style={{height: '10rem', width:\"10rem\"}}/>\n                                <div className=\"card-body\" style={{height: '12rem'}}>\n                                    <h5 className=\"card-title\">{item.name}</h5>\n                                    <p className=\"card-text\">{item.description.substring(0,30)}</p>\n                                    <p className=\"card-text\">{item.price}</p>\n                                    <div className=\"card-name-price\">\n                                        <button className=\"btn btn-secondary ms-1\">ADD TO CART</button>\n                                    </div>\n                                </div>\n                                </div>\n                            )\n                        })\n                        }\n            </div>\n            \n        </div>\n       \n    </Layout>\n  )\n}\n\nexport default ProductDetails"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,KAAAC,iBAAA,CAGzB,KAAM,CAAAC,MAAM,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAI,CACV,GAAIU,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEK,IAAI,CAAEC,UAAU,CAAC,CAAC,CAClC,CAAC,CAAC,CAACN,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEK,IAAI,CAAC,CAAC,CAEjB,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAU,CACzB,GAAI,CACA,KAAM,CAACC,IAAI,CAAC,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,aAAa,wCAAAH,MAAA,CAAsCT,MAAM,CAACK,IAAI,CAAE,CAAC,CAC/GH,UAAU,CAACK,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,QAAQ,CAAC,CAC1BC,kBAAkB,CAACP,IAAI,CAACM,QAAQ,CAACE,GAAG,CAAER,IAAI,CAACM,QAAQ,CAACG,QAAQ,CAACD,GAAG,CAAC,CACrE,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACJ,CAAC,CAGD,KAAM,CAAAH,kBAAkB,CAAG,KAAAA,CAAMM,GAAG,CAAEC,GAAG,GAAI,CACzC,GAAI,CACA,KAAM,CAACd,IAAI,CAAC,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,aAAa,qCAAAH,MAAA,CAAmCW,GAAG,MAAAX,MAAA,CAAIY,GAAG,CAAE,CAAC,CAC3GjB,WAAW,CAACG,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,QAAQ,CAAC,CAC/B,CAAE,MAAOI,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACJ,CAAC,CACH,mBACEpB,KAAA,CAACT,MAAM,EAAAkC,QAAA,eACH3B,IAAA,OAAA2B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBzB,KAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eAC/B3B,IAAA,QAAK4B,SAAS,CAAC,UAAU,CAAAD,QAAA,CACxBrB,OAAO,cACRN,IAAA,QACI6B,GAAG,IAAAf,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,aAAa,uCAAAH,MAAA,CAAqCR,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEc,GAAG,CAAG,CAACQ,SAAS,CAAC,cAAc,CAC9GE,GAAG,CAAExB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEyB,IAAK,CACnBC,KAAK,CAAE,CAACC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAC,MAAM,CAAE,CAAC,CAAC,cAE7ClC,IAAA,MAAA2B,QAAA,CAAG,oBAAkB,CAAG,CAAC,CACpB,CAAC,cACNzB,KAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAD,QAAA,eACrB3B,IAAA,OAAI4B,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACjDzB,KAAA,OAAAyB,QAAA,EAAI,QAAM,CAACrB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEyB,IAAI,EAAK,CAAC,cAC9B7B,KAAA,OAAAyB,QAAA,EAAI,eAAa,CAACrB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE6B,WAAW,EAAK,CAAC,cAC5CjC,KAAA,OAAAyB,QAAA,EAAI,SAAO,CAACrB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE8B,KAAK,EAAK,CAAC,cAChClC,KAAA,OAAAyB,QAAA,EAAI,YAAU,CAACrB,OAAO,SAAPA,OAAO,kBAAAF,iBAAA,CAAPE,OAAO,CAAEe,QAAQ,UAAAjB,iBAAA,iBAAjBA,iBAAA,CAAmB2B,IAAI,EAAK,CAAC,cAE5C/B,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC5B3B,IAAA,WAAQ4B,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,aAAW,CAAQ,CAAC,CAC9D,CAAC,EACL,CAAC,cACNzB,KAAA,QAAK0B,SAAS,CAAC,KAAK,CAAAD,QAAA,eAChB3B,IAAA,OAAA2B,QAAA,CAAI,kBAAgB,CAAI,CAAC,CAErBnB,QAAQ,CAAC6B,MAAM,CAAG,CAAC,cACnBrC,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,2BAAyB,CAAG,CAAC,CAEpDnB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE8B,GAAG,CAACC,IAAI,EAAI,CAClBhB,OAAO,CAACC,GAAG,CAACe,IAAI,CAAC,CACjB,mBACIrC,KAAA,QAAK0B,SAAS,CAAC,UAAU,CAACI,KAAK,CAAE,CAACE,KAAK,CAAE,OAAO,CAAE,CAAAP,QAAA,eAElD3B,IAAA,QAAK6B,GAAG,IAAAf,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,aAAa,uCAAAH,MAAA,CAAqCyB,IAAI,CAACnB,GAAG,CAAG,CAACQ,SAAS,CAAC,cAAc,CAACE,GAAG,CAAES,IAAI,CAACR,IAAK,CAACC,KAAK,CAAE,CAACC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAC,OAAO,CAAE,CAAC,CAAC,cAC1KhC,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAACI,KAAK,CAAE,CAACC,MAAM,CAAE,OAAO,CAAE,CAAAN,QAAA,eAChD3B,IAAA,OAAI4B,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEY,IAAI,CAACR,IAAI,CAAK,CAAC,cAC3C/B,IAAA,MAAG4B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEY,IAAI,CAACJ,WAAW,CAACK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAI,CAAC,cAC/DxC,IAAA,MAAG4B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEY,IAAI,CAACH,KAAK,CAAI,CAAC,cACzCpC,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC5B3B,IAAA,WAAQ4B,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,aAAW,CAAQ,CAAC,CAC9D,CAAC,EACL,CAAC,GAVmDY,IAAI,CAACnB,GAWzD,CAAC,CAEd,CAAC,CAAC,EAET,CAAC,EAEL,CAAC,EAEF,CAAC,CAEb,CAAC,CAED,cAAe,CAAAjB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}