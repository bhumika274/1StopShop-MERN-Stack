{"ast":null,"code":"import React,{useEffect,useState}from'react';import Layout from\"./../../components/layout/Layout\";import UserMenu from'../../components/layout/UserMenu';import{useAuth}from'../../Context/auth';import axios from'axios';import toast from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[auth,setAuth]=useAuth();const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[phone,setPhone]=useState(\"\");const[address,setAddress]=useState(\"\");const handleSubmit=async event=>{event.preventDefault();try{const{data}=await axios.put(\"\".concat(process.env.REACT_APP_API,\"/api/v1/auth/profile-update\"),{name,email,password,phone,address});if(data.error){toast.error(\"Something Went Wrong\");console.log(data.error);}else{setAuth({user:data.updateduser});let ls=localStorage.getItem(\"auth\");ls=await JSON.parse(ls);ls.user=data.updateduser;localStorage.setItem(\"auth\",JSON.stringify(ls));toast.success(\"Profile Updated Successfully\");}}catch(error){console.log(error);toast.error(\"something went wrong\");}};useEffect(()=>{const{name,email,password,phone,address}=auth.user;setName(name);setEmail(email);setPassword(password);setPhone(phone);setAddress(address);},[auth.user]);return/*#__PURE__*/_jsx(Layout,{title:\"Your Profile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid p-3 m-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(UserMenu,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container col-md-9\",style:{minHeight:\"90vh\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title\",children:\"Profile Page\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputName\",placeholder:\"Enter your Name\",value:name,onChange:event=>setName(event.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputemail\",placeholder:\"Enter your email\",value:email,onChange:event=>setEmail(event.target.value),required:true,disabled:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword\",placeholder:\"Enter your password\",value:password,onChange:event=>setPassword(event.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputAddress\",placeholder:\"Enter your address\",value:address,onChange:event=>setAddress(event.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputPhone\",placeholder:\"Enter your phone number\",value:phone,onChange:event=>setPhone(event.target.value),required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary bg-dark\",children:\"UPDATE\"})]})})]})})});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","Layout","UserMenu","useAuth","axios","toast","jsx","_jsx","jsxs","_jsxs","Profile","auth","setAuth","name","setName","email","setEmail","password","setPassword","phone","setPhone","address","setAddress","handleSubmit","event","preventDefault","data","put","concat","process","env","REACT_APP_API","error","console","log","user","updateduser","ls","localStorage","getItem","JSON","parse","setItem","stringify","success","title","children","className","style","minHeight","onSubmit","type","id","placeholder","value","onChange","target","required","disabled"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/pages/user/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Layout from \"./../../components/layout/Layout\"\nimport UserMenu from '../../components/layout/UserMenu'\nimport { useAuth } from '../../Context/auth'\nimport axios from 'axios'\nimport toast from 'react-hot-toast'\n\nconst Profile = () => {\n    const [auth, setAuth] = useAuth();\n    const [name, setName] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [phone, setPhone] = useState(\"\")\n    const [address, setAddress] = useState(\"\")\n\n    const handleSubmit = async(event) =>{\n\n        event.preventDefault()\n        try {\n            const {data} = await axios.put(`${process.env.REACT_APP_API}/api/v1/auth/profile-update`, {\n                name, email, password, phone, address\n            })\n            if(data.error){\n                toast.error(\"Something Went Wrong\")\n                console.log(data.error)\n            }else{\n                setAuth({user:data.updateduser})\n                let ls = localStorage.getItem(\"auth\")\n                ls = await JSON.parse(ls)\n                ls.user = data.updateduser\n                localStorage.setItem(\"auth\", JSON.stringify(ls))\n                toast.success(\"Profile Updated Successfully\")\n            }\n            \n        }catch(error) {\n\n            console.log(error)\n            toast.error(\"something went wrong\")\n        }\n    }\n\n    useEffect(()=>{\n        const { name, email, password, phone, address} = auth.user\n        setName(name)\n        setEmail(email) \n        setPassword(password)\n        setPhone(phone)\n        setAddress(address)\n    },[auth.user])\n  return (\n    <Layout title={\"Your Profile\"}>\n        <div className=\"container-fluid p-3 m-3\">\n            <div className=\"row\">\n                <div className=\"col-md-3\">\n                    <UserMenu />\n                </div>\n                <div className=\"form-container col-md-9\" style={{ minHeight: \"90vh\" }}>\n                    <form onSubmit={handleSubmit}>\n                    <h4 className=\"title\">Profile Page</h4>\n                        <div className=\"mb-3\">\n                            <input \n                                type=\"text\" \n                                className=\"form-control\" \n                                id=\"exampleInputName\"\n                                placeholder=\"Enter your Name\"\n                                value={name}\n                                onChange={(event)=> setName(event.target.value)}\n                                required/>\n                        </div>\n                        <div className=\"mb-3\">\n                            <input \n                                type=\"email\" \n                                className=\"form-control\" \n                                id=\"exampleInputemail\"\n                                placeholder=\"Enter your email\"\n                                value={email}\n                                onChange={(event)=> setEmail(event.target.value)}\n                                required\n                                disabled/>\n                        </div>\n                        <div className=\"mb-3\">\n                            <input \n                                type=\"password\" \n                                className=\"form-control\" \n                                id=\"exampleInputPassword\"\n                                placeholder=\"Enter your password\"\n                                value={password}\n                                onChange={(event)=> setPassword(event.target.value)}\n                                required/>\n                \n                        </div>\n                        <div className=\"mb-3\">\n                            <input \n                                type=\"text\" \n                                className=\"form-control\" \n                                id=\"exampleInputAddress\"\n                                placeholder=\"Enter your address\"\n                                value={address}\n                                onChange={(event)=> setAddress(event.target.value)}\n                                required/>\n                        </div>\n                        <div className=\"mb-3\">\n                            <input \n                                type=\"text\" \n                                className=\"form-control\" \n                                id=\"exampleInputPhone\"\n                                placeholder=\"Enter your phone number\"\n                                value={phone}\n                                onChange={(event)=> setPhone(event.target.value)}\n                                required/>\n                        </div>\n                    \n                        \n                    \n                        <button type=\"submit\" className=\"btn btn-primary bg-dark\">UPDATE</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </Layout>\n  )\n}\n\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}