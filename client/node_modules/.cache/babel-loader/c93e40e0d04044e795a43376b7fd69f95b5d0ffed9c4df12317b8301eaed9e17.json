{"ast":null,"code":"import React from\"react\";import{Link,NavLink}from\"react-router-dom\";import{useAuth}from\"../../Context/auth\";import toast from\"react-hot-toast\";import SearchInput from\"../Form/SearchInput\";import useCategory from\"../../Hooks/useCategory\";import{useCart}from\"../../Context/cart\";import{Badge}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{var _auth$user,_auth$user2;const[auth,setAuth]=useAuth();const[cart]=useCart();const categories=useCategory();const handleLogout=()=>{setAuth({...auth,user:null,token:\"\"});localStorage.removeItem(\"auth\");toast.success(\"Logout Successful\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg bg-body-tertiary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo01\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\":\\uD83D\\uDED2 1StopShop\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(SearchInput,{})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"nav-link\",children:\"HOME\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link dropdown-toggle\",to:\"/category\",\"data-bs-toggle\":\"dropdown\",children:\"CATEGORY\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/categories\",children:\"All Categories\"})}),categories===null||categories===void 0?void 0:categories.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/category/\".concat(item.slug),children:item.name})},item._id))]})]}),!auth.user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"nav-link\",children:\"REGISTER\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"nav-link\",children:\"LOGIN\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link dropdown-toggle\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.name}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/dashboard/\".concat((auth===null||auth===void 0?void 0:(_auth$user2=auth.user)===null||_auth$user2===void 0?void 0:_auth$user2.role)===1?\"admin\":\"user\"),className:\"dropdown-item\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"dropdown-item\",onClick:handleLogout,children:\"Logout\"})})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Badge,{count:cart===null||cart===void 0?void 0:cart.length,children:/*#__PURE__*/_jsx(NavLink,{to:\"/cart\",className:\"nav-link\",children:\"CART\"})})})]})]})]})})});};export default Header;","map":{"version":3,"names":["React","Link","NavLink","useAuth","toast","SearchInput","useCategory","useCart","Badge","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_auth$user","_auth$user2","auth","setAuth","cart","categories","handleLogout","user","token","localStorage","removeItem","success","children","className","type","id","to","map","item","concat","slug","name","_id","role","onClick","count","length"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/components/layout/headers.js"],"sourcesContent":["import React from \"react\"\nimport { Link,NavLink } from \"react-router-dom\"\nimport { useAuth } from \"../../Context/auth\"\nimport toast from \"react-hot-toast\"\nimport SearchInput from \"../Form/SearchInput\"\nimport useCategory from \"../../Hooks/useCategory\"\nimport { useCart } from \"../../Context/cart\"\nimport { Badge } from 'antd';\n\nconst Header = () => {\n    const [auth, setAuth] = useAuth();\n    const [cart] = useCart();\n    const categories = useCategory();\n    const handleLogout = () =>{\n\n        setAuth({\n            ...auth,\n            user:null,\n            token:\"\"\n        })\n        localStorage.removeItem(\"auth\");\n        toast.success(\"Logout Successful\")\n\n    }\n    return(\n        <>\n            <nav className=\"navbar navbar-expand-lg bg-body-tertiary\">\n                <div className=\"container-fluid\">\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\">\n                    <span className=\"navbar-toggler-icon\" />\n                    </button>\n                    <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n                    <Link to=\"/\" className=\"navbar-brand\">\n                        :ðŸ›’ 1StopShop</Link>\n                    <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n\n                        <li className=\"nav-item\">\n                            <SearchInput />\n                        </li>\n                        <li className=\"nav-item\">\n                            <NavLink \n                                to=\"/\" \n                                className=\"nav-link\" \n                            >\n                                HOME\n                            </NavLink>\n                        </li>\n                        <li className=\"nav-item dropdown\">\n                            <NavLink className=\"nav-link dropdown-toggle\" to={\"/category\"} data-bs-toggle=\"dropdown\">\n                                CATEGORY\n                            </NavLink>\n                            <ul className=\"dropdown-menu\">\n                            <li><Link className=\"dropdown-item\" to={`/categories`}>All Categories</Link></li>\n                            {\n                                categories?.map(item=>(\n                                        <li key={item._id}><Link className=\"dropdown-item\" to={`/category/${item.slug}`}>{item.name}</Link></li>\n                                ))\n                            }\n                            </ul>                            \n                        </li> \n                        {\n                            !auth.user ? (<>\n                            <li className=\"nav-item\">\n                                <NavLink \n                                    to=\"/register\" \n                                    className=\"nav-link\" \n                                    \n                                >\n                                    REGISTER\n                                </NavLink>\n                            </li>\n                            <li className=\"nav-item\">\n                                <NavLink \n                                    to=\"/login\" \n                                    className=\"nav-link\" \n                                   \n                                >\n                                    LOGIN\n                                </NavLink>\n                            </li>\n                            \n                            </>) : (<>\n                                <li className=\"nav-item dropdown\">\n                                    <NavLink className=\"nav-link dropdown-toggle\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                                        {auth?.user?.name}\n                                    </NavLink>\n                                    <ul className=\"dropdown-menu\">\n                                        <li><NavLink to={`/dashboard/${auth?.user?.role === 1 ? \"admin\" : \"user\"}`} className=\"dropdown-item\">Dashboard</NavLink></li>\n                                        <li>\n                                        <NavLink \n                                            to=\"/login\"\n                                            className=\"dropdown-item\" \n                                            onClick={handleLogout}\n                                        >\n                                            Logout\n                                        </NavLink>\n                                    </li>\n                                    </ul>\n                                </li>\n                            </>)\n                        }\n                        <li className=\"nav-item\">\n                                        <Badge count={cart?.length}>\n                                            <NavLink \n                                                to=\"/cart\" \n                                                className=\"nav-link\" \n                                            >\n                                                CART\n                                            </NavLink>\n                                        </Badge>\n                                    </li>\n                    </ul>\n                    </div>\n                </div>\n            </nav>\n\n        </>\n    )\n}\n\nexport default Header"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAACC,OAAO,KAAQ,kBAAkB,CAC/C,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,WAAW,KAAM,yBAAyB,CACjD,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,OAASC,KAAK,KAAQ,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7B,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,KAAAC,UAAA,CAAAC,WAAA,CACjB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,OAAO,CAAC,CAAC,CACjC,KAAM,CAACiB,IAAI,CAAC,CAAGb,OAAO,CAAC,CAAC,CACxB,KAAM,CAAAc,UAAU,CAAGf,WAAW,CAAC,CAAC,CAChC,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GAAK,CAEtBH,OAAO,CAAC,CACJ,GAAGD,IAAI,CACPK,IAAI,CAAC,IAAI,CACTC,KAAK,CAAC,EACV,CAAC,CAAC,CACFC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC,CAC/BtB,KAAK,CAACuB,OAAO,CAAC,mBAAmB,CAAC,CAEtC,CAAC,CACD,mBACIjB,IAAA,CAAAI,SAAA,EAAAc,QAAA,cACIlB,IAAA,QAAKmB,SAAS,CAAC,0CAA0C,CAAAD,QAAA,cACrDhB,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BlB,IAAA,WAAQmB,SAAS,CAAC,gBAAgB,CAACC,IAAI,CAAC,QAAQ,CAAC,iBAAe,UAAU,CAAAF,QAAA,cAC1ElB,IAAA,SAAMmB,SAAS,CAAC,qBAAqB,CAAE,CAAC,CAChC,CAAC,cACTjB,KAAA,QAAKiB,SAAS,CAAC,0BAA0B,CAACE,EAAE,CAAC,qBAAqB,CAAAH,QAAA,eAClElB,IAAA,CAACT,IAAI,EAAC+B,EAAE,CAAC,GAAG,CAACH,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,yBACrB,CAAM,CAAC,cACxBhB,KAAA,OAAIiB,SAAS,CAAC,iCAAiC,CAAAD,QAAA,eAE3ClB,IAAA,OAAImB,SAAS,CAAC,UAAU,CAAAD,QAAA,cACpBlB,IAAA,CAACL,WAAW,GAAE,CAAC,CACf,CAAC,cACLK,IAAA,OAAImB,SAAS,CAAC,UAAU,CAAAD,QAAA,cACpBlB,IAAA,CAACR,OAAO,EACJ8B,EAAE,CAAC,GAAG,CACNH,SAAS,CAAC,UAAU,CAAAD,QAAA,CACvB,MAED,CAAS,CAAC,CACV,CAAC,cACLhB,KAAA,OAAIiB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAC7BlB,IAAA,CAACR,OAAO,EAAC2B,SAAS,CAAC,0BAA0B,CAACG,EAAE,CAAE,WAAY,CAAC,iBAAe,UAAU,CAAAJ,QAAA,CAAC,UAEzF,CAAS,CAAC,cACVhB,KAAA,OAAIiB,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,cAAIlB,IAAA,CAACT,IAAI,EAAC4B,SAAS,CAAC,eAAe,CAACG,EAAE,cAAgB,CAAAJ,QAAA,CAAC,gBAAc,CAAM,CAAC,CAAI,CAAC,CAE7EP,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEY,GAAG,CAACC,IAAI,eACZxB,IAAA,OAAAkB,QAAA,cAAmBlB,IAAA,CAACT,IAAI,EAAC4B,SAAS,CAAC,eAAe,CAACG,EAAE,cAAAG,MAAA,CAAeD,IAAI,CAACE,IAAI,CAAG,CAAAR,QAAA,CAAEM,IAAI,CAACG,IAAI,CAAO,CAAC,EAA1FH,IAAI,CAACI,GAAyF,CAC9G,CAAC,EAEF,CAAC,EACL,CAAC,CAED,CAACpB,IAAI,CAACK,IAAI,cAAIX,KAAA,CAAAE,SAAA,EAAAc,QAAA,eACdlB,IAAA,OAAImB,SAAS,CAAC,UAAU,CAAAD,QAAA,cACpBlB,IAAA,CAACR,OAAO,EACJ8B,EAAE,CAAC,WAAW,CACdH,SAAS,CAAC,UAAU,CAAAD,QAAA,CAEvB,UAED,CAAS,CAAC,CACV,CAAC,cACLlB,IAAA,OAAImB,SAAS,CAAC,UAAU,CAAAD,QAAA,cACpBlB,IAAA,CAACR,OAAO,EACJ8B,EAAE,CAAC,QAAQ,CACXH,SAAS,CAAC,UAAU,CAAAD,QAAA,CAEvB,OAED,CAAS,CAAC,CACV,CAAC,EAEH,CAAC,cAAKlB,IAAA,CAAAI,SAAA,EAAAc,QAAA,cACJhB,KAAA,OAAIiB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAC7BlB,IAAA,CAACR,OAAO,EAAC2B,SAAS,CAAC,0BAA0B,CAACU,IAAI,CAAC,QAAQ,CAAC,iBAAe,UAAU,CAAC,gBAAc,OAAO,CAAAX,QAAA,CACtGV,IAAI,SAAJA,IAAI,kBAAAF,UAAA,CAAJE,IAAI,CAAEK,IAAI,UAAAP,UAAA,iBAAVA,UAAA,CAAYqB,IAAI,CACZ,CAAC,cACVzB,KAAA,OAAIiB,SAAS,CAAC,eAAe,CAAAD,QAAA,eACzBlB,IAAA,OAAAkB,QAAA,cAAIlB,IAAA,CAACR,OAAO,EAAC8B,EAAE,eAAAG,MAAA,CAAgB,CAAAjB,IAAI,SAAJA,IAAI,kBAAAD,WAAA,CAAJC,IAAI,CAAEK,IAAI,UAAAN,WAAA,iBAAVA,WAAA,CAAYsB,IAAI,IAAK,CAAC,CAAG,OAAO,CAAG,MAAM,CAAG,CAACV,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,WAAS,CAAS,CAAC,CAAI,CAAC,cAC9HlB,IAAA,OAAAkB,QAAA,cACAlB,IAAA,CAACR,OAAO,EACJ8B,EAAE,CAAC,QAAQ,CACXH,SAAS,CAAC,eAAe,CACzBW,OAAO,CAAElB,YAAa,CAAAM,QAAA,CACzB,QAED,CAAS,CAAC,CACV,CAAC,EACD,CAAC,EACL,CAAC,CACP,CAAE,cAERlB,IAAA,OAAImB,SAAS,CAAC,UAAU,CAAAD,QAAA,cACRlB,IAAA,CAACF,KAAK,EAACiC,KAAK,CAAErB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsB,MAAO,CAAAd,QAAA,cACvBlB,IAAA,CAACR,OAAO,EACJ8B,EAAE,CAAC,OAAO,CACVH,SAAS,CAAC,UAAU,CAAAD,QAAA,CACvB,MAED,CAAS,CAAC,CACP,CAAC,CACR,CAAC,EACjB,CAAC,EACA,CAAC,EACL,CAAC,CACL,CAAC,CAER,CAAC,CAEX,CAAC,CAED,cAAe,CAAAb,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}