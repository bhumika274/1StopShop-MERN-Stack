{"ast":null,"code":"import{useState,useContext,createContext,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();//to create global state\nconst AuthProvider=_ref=>{let{children}=_ref;const[auth,setAuth]=useState({user:null,token:\"\"});//setting default axios\naxios.defaults.headers.common[\"Authorization\"]=auth===null||auth===void 0?void 0:auth.token;useEffect(()=>{const data=localStorage.getItem(\"auth\");if(data){const parseData=JSON.parse(data);setAuth({...auth,user:parseData.user,token:parseData.token});}// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:[auth,setAuth],children:children});};const useAuth=()=>useContext(AuthContext);//to use global state\nexport{useAuth,AuthProvider};","map":{"version":3,"names":["useState","useContext","createContext","useEffect","axios","jsx","_jsx","AuthContext","AuthProvider","_ref","children","auth","setAuth","user","token","defaults","headers","common","data","localStorage","getItem","parseData","JSON","parse","Provider","value","useAuth"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/Context/auth.js"],"sourcesContent":["import { useState, useContext, createContext, useEffect } from \"react\";\nimport axios from \"axios\";\nconst AuthContext = createContext(); //to create global state\n\n\nconst AuthProvider = ({children}) =>{\n\n    const [auth, setAuth] = useState({\n    user: null,\n    token: \"\"\n    })\n\n    //setting default axios\n    axios.defaults.headers.common[\"Authorization\"] = auth?.token;\n    useEffect(() =>{\n        const data = localStorage.getItem(\"auth\")\n        if(data){\n            const parseData = JSON.parse(data);\n            setAuth({\n                ...auth,\n                user:parseData.user,\n                token:parseData.token\n            })\n        }\n        // eslint-disable-next-line\n    },[])\n    return(\n        <AuthContext.Provider value={[auth, setAuth]}>\n            {children}\n        </AuthContext.Provider>\n    )\n    \n}\n\nconst useAuth = () => useContext(AuthContext); //to use global state\nexport {useAuth, AuthProvider}\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,UAAU,CAAEC,aAAa,CAAEC,SAAS,KAAQ,OAAO,CACtE,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAC1B,KAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAAE;AAGrC,KAAM,CAAAM,YAAY,CAAGC,IAAA,EAAe,IAAd,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAE5B,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,CACjCa,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,EACP,CAAC,CAAC,CAEF;AACAV,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,KAAK,CAC5DX,SAAS,CAAC,IAAK,CACX,KAAM,CAAAe,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC,GAAGF,IAAI,CAAC,CACJ,KAAM,CAAAG,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC,CAClCN,OAAO,CAAC,CACJ,GAAGD,IAAI,CACPE,IAAI,CAACQ,SAAS,CAACR,IAAI,CACnBC,KAAK,CAACO,SAAS,CAACP,KACpB,CAAC,CAAC,CACN,CACA;AACJ,CAAC,CAAC,EAAE,CAAC,CACL,mBACIR,IAAA,CAACC,WAAW,CAACiB,QAAQ,EAACC,KAAK,CAAE,CAACd,IAAI,CAAEC,OAAO,CAAE,CAAAF,QAAA,CACxCA,QAAQ,CACS,CAAC,CAG/B,CAAC,CAED,KAAM,CAAAgB,OAAO,CAAGA,CAAA,GAAMzB,UAAU,CAACM,WAAW,CAAC,CAAE;AAC/C,OAAQmB,OAAO,CAAElB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}