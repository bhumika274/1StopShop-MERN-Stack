{"ast":null,"code":"import React,{useState}from'react';import Layout from'../../components/layout/Layout';import axios from\"axios\";import toast from'react-hot-toast';import{useLocation,useNavigate}from'react-router-dom';import\"../../Styles/StyleAuth.css\";import{useAuth}from'../../Context/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[auth,setAuth]=useAuth();const navigate=useNavigate();const location=useLocation();const handleSubmit=async event=>{event.preventDefault();try{const res=await axios.post(\"/api/v1/auth/login\",{email,password});if(res.data.success){toast.success(res.data.message);setAuth({...auth,user:res.data.user,token:res.data.token});localStorage.setItem(\"auth\",JSON.stringify(res.data));navigate(location.state||\"/\");}else{toast.error(res.data.message);}}catch(error){console.log(error);toast.error(\"something went wrong\");}};return/*#__PURE__*/_jsx(Layout,{title:\"Login at ecommerce\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",style:{minHeight:\"90vh\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title\",children:\"Login Page\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputemail\",placeholder:\"Enter your email\",value:email,onChange:event=>setEmail(event.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword\",placeholder:\"Enter your password\",value:password,onChange:event=>setPassword(event.target.value),required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary bg-dark\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary bg-dark\",onClick:()=>{navigate(\"/forgot-password\");},children:\"Forgot Password\"})})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Layout","axios","toast","useLocation","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","auth","setAuth","navigate","location","handleSubmit","event","preventDefault","res","post","data","success","message","user","token","localStorage","setItem","JSON","stringify","state","error","console","log","title","children","className","style","minHeight","onSubmit","type","id","placeholder","value","onChange","target","required","onClick"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/pages/Auth/Login.js"],"sourcesContent":["import React, { useState }  from 'react'\nimport Layout from '../../components/layout/Layout'\nimport axios from \"axios\"\nimport toast from 'react-hot-toast';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport \"../../Styles/StyleAuth.css\";\nimport { useAuth } from '../../Context/auth';\n\nconst Login = () => {\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [auth, setAuth] = useAuth()\n  \n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const handleSubmit = async(event) =>{\n\n        event.preventDefault()\n        try {\n            const res = await axios.post(`/api/v1/auth/login`, {\n                email, password\n            })\n            if(res.data.success){\n                toast.success(res.data.message);\n                setAuth({\n                    ...auth,\n                    user: res.data.user,\n                    token: res.data.token\n                })\n                localStorage.setItem(\"auth\", JSON.stringify(res.data))\n                navigate(location.state || \"/\")\n            }else{\n                toast.error(res.data.message)\n            }\n        }catch(error) {\n\n            console.log(error)\n            toast.error(\"something went wrong\")\n        }\n    }\n  return (\n    <Layout title=\"Login at ecommerce\">\n        <div className=\"form-container\" style={{ minHeight: \"90vh\" }}>\n        <form onSubmit={handleSubmit}>\n        <h4 className=\"title\">Login Page</h4>\n            \n            <div className=\"mb-3\">\n                <input \n                    type=\"email\" \n                    className=\"form-control\" \n                    id=\"exampleInputemail\"\n                    placeholder=\"Enter your email\"\n                    value={email}\n                    onChange={(event)=> setEmail(event.target.value)}\n                    required/>\n            </div>\n            <div className=\"mb-3\">\n                <input \n                    type=\"password\" \n                    className=\"form-control\" \n                    id=\"exampleInputPassword\"\n                    placeholder=\"Enter your password\"\n                    value={password}\n                    onChange={(event)=> setPassword(event.target.value)}\n                    required/>\n    \n            </div>\n            \n            <button type=\"submit\" className=\"btn btn-primary bg-dark\">Login</button> \n            <div className='mt-3'>\n                <button type=\"submit\" className=\"btn btn-primary bg-dark\" onClick={()=>{navigate(\"/forgot-password\")}}>Forgot Password</button>\n            </div>\n        </form>\n        </div>\n    </Layout>\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}