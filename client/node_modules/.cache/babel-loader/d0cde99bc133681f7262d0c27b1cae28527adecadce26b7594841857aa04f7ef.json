{"ast":null,"code":"import{useAuth}from\"../../Context/auth\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{Outlet}from\"react-router-dom\";import Spinner from\"../Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";const PrivateRoute=()=>{const[ok,setOk]=useState(false);const[auth]=useAuth();useEffect(()=>{const authCheck=async()=>{const res=await axios.get(\"\".concat(process.env.REACT_APP_API,\"/api/v1/auth/user-auth\"));if(res.data.ok){setOk(true);}else{setOk(false);}};if(auth!==null&&auth!==void 0&&auth.token)authCheck();},[auth===null||auth===void 0?void 0:auth.token]);return ok?/*#__PURE__*/_jsx(Outlet,{}):/*#__PURE__*/_jsx(Spinner,{});};export default PrivateRoute;","map":{"version":3,"names":["useAuth","useEffect","useState","axios","Outlet","Spinner","jsx","_jsx","PrivateRoute","ok","setOk","auth","authCheck","res","get","concat","process","env","REACT_APP_API","data","token"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/components/Routes/Private.js"],"sourcesContent":["import {useAuth} from \"../../Context/auth\"\nimport {useEffect, useState} from \"react\"\nimport axios from \"axios\"\nimport {Outlet} from \"react-router-dom\"\nimport Spinner from \"../Spinner\"\n\n\n const PrivateRoute = () =>{\n    const [ok, setOk] = useState(false)\n    const [auth] = useAuth()\n\n    useEffect(() => {\n        const authCheck = async () =>{\n            const res = await axios.get(`${process.env.REACT_APP_API}/api/v1/auth/user-auth`)\n\n            if(res.data.ok){\n                setOk(true)\n            }else{\n                setOk(false)  }\n        }\n\n        if(auth?.token) authCheck()\n    },[auth?.token])\n\n    return ok ? <Outlet/> : <Spinner/> ;\n}\n\nexport default PrivateRoute;\n\n"],"mappings":"AAAA,OAAQA,OAAO,KAAO,oBAAoB,CAC1C,OAAQC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,MAAM,KAAO,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,YAAY,QAAAC,GAAA,IAAAC,IAAA,yBAG/B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAK,CACvB,KAAM,CAACC,EAAE,CAAEC,KAAK,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CACnC,KAAM,CAACS,IAAI,CAAC,CAAGX,OAAO,CAAC,CAAC,CAExBC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAW,SAAS,CAAG,KAAAA,CAAA,GAAW,CACzB,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,aAAa,0BAAwB,CAAC,CAEjF,GAAGL,GAAG,CAACM,IAAI,CAACV,EAAE,CAAC,CACXC,KAAK,CAAC,IAAI,CAAC,CACf,CAAC,IAAI,CACDA,KAAK,CAAC,KAAK,CAAC,CAAE,CACtB,CAAC,CAED,GAAGC,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAES,KAAK,CAAER,SAAS,CAAC,CAAC,CAC/B,CAAC,CAAC,CAACD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAES,KAAK,CAAC,CAAC,CAEhB,MAAO,CAAAX,EAAE,cAAGF,IAAA,CAACH,MAAM,GAAC,CAAC,cAAGG,IAAA,CAACF,OAAO,GAAC,CAAC,CACtC,CAAC,CAED,cAAe,CAAAG,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}