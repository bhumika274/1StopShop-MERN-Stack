{"ast":null,"code":"import{useAuth}from\"../../Context/auth\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{Outlet}from\"react-router-dom\";import Spinner from\"../Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";const AdminRoute=()=>{const[ok,setOk]=useState(false);const[auth]=useAuth();useEffect(()=>{const authCheck=async()=>{var _res$data;const res=await axios.get(\"\".concat(process.env.REACT_APP_API,\"/api/v1/auth/admin-auth\"));if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.ok){setOk(true);}else{setOk(false);}};if(auth!==null&&auth!==void 0&&auth.token)authCheck();},[auth===null||auth===void 0?void 0:auth.token]);return ok?/*#__PURE__*/_jsx(Outlet,{}):/*#__PURE__*/_jsx(Spinner,{path:\"\"});};export default AdminRoute;","map":{"version":3,"names":["useAuth","useEffect","useState","axios","Outlet","Spinner","jsx","_jsx","AdminRoute","ok","setOk","auth","authCheck","_res$data","res","get","concat","process","env","REACT_APP_API","data","token","path"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/components/Routes/AdminRoute.js"],"sourcesContent":["import {useAuth} from \"../../Context/auth\"\nimport {useEffect, useState} from \"react\"\nimport axios from \"axios\"\nimport {Outlet} from \"react-router-dom\"\nimport Spinner from \"../Spinner\"\n\n\n const AdminRoute = () =>{\n    const [ok, setOk] = useState(false)\n    const [auth] = useAuth()\n\n    useEffect(() => {\n        const authCheck = async () =>{\n            const res = await axios.get(`${process.env.REACT_APP_API}/api/v1/auth/admin-auth`)\n\n            if(res?.data?.ok){\n                setOk(true)\n            }else{\n                setOk(false)  }\n        }\n\n        if(auth?.token) authCheck()\n    },[auth?.token])\n\n    return ok ? <Outlet/> : <Spinner path=\"\"/> ;\n}\n\nexport default AdminRoute;\n\n"],"mappings":"AAAA,OAAQA,OAAO,KAAO,oBAAoB,CAC1C,OAAQC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,MAAM,KAAO,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,YAAY,QAAAC,GAAA,IAAAC,IAAA,yBAG/B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAK,CACrB,KAAM,CAACC,EAAE,CAAEC,KAAK,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CACnC,KAAM,CAACS,IAAI,CAAC,CAAGX,OAAO,CAAC,CAAC,CAExBC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAW,SAAS,CAAG,KAAAA,CAAA,GAAW,KAAAC,SAAA,CACzB,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAX,KAAK,CAACY,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,aAAa,2BAAyB,CAAC,CAElF,GAAGL,GAAG,SAAHA,GAAG,YAAAD,SAAA,CAAHC,GAAG,CAAEM,IAAI,UAAAP,SAAA,WAATA,SAAA,CAAWJ,EAAE,CAAC,CACbC,KAAK,CAAC,IAAI,CAAC,CACf,CAAC,IAAI,CACDA,KAAK,CAAC,KAAK,CAAC,CAAE,CACtB,CAAC,CAED,GAAGC,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEU,KAAK,CAAET,SAAS,CAAC,CAAC,CAC/B,CAAC,CAAC,CAACD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEU,KAAK,CAAC,CAAC,CAEhB,MAAO,CAAAZ,EAAE,cAAGF,IAAA,CAACH,MAAM,GAAC,CAAC,cAAGG,IAAA,CAACF,OAAO,EAACiB,IAAI,CAAC,EAAE,CAAC,CAAC,CAC9C,CAAC,CAED,cAAe,CAAAd,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}