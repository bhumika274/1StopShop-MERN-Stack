{"ast":null,"code":"var _jsxFileName = \"/Users/bhumikamanker/coding_stuff/e-commerce/client/src/pages/CategoryProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Layout from '../components/layout/Layout';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CategoryProduct = () => {\n  _s();\n  // const [total, setTotal] = useState(0);\n  // const [page, setPage] = useState(1);\n  // const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const [products, setProducts] = useState([]);\n  const [category, setCategory] = useState([]);\n  const params = useParams();\n\n  // const getTotal = async()=>{\n  //     try {\n  //         const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/product/product-count`)\n  //         setTotal(data?.total)\n  //         console.log(data.success)\n  //         if(data?.success){\n  //             setProducts(data.products)\n  //         }\n  //     } catch (error) {\n  //         console.log(error)\n  //     }\n  // }\n\n  useEffect(() => {\n    if (params !== null && params !== void 0 && params.slug) getProductByCat();\n  }, [params === null || params === void 0 ? void 0 : params.slug]);\n  const getProductByCat = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_API}/api/v1/product/product-category/${params.slug}`);\n      setProducts(data === null || data === void 0 ? void 0 : data.products);\n      setCategory(data === null || data === void 0 ? void 0 : data.category);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-9 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: category.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"text-center\",\n        children: [products === null || products === void 0 ? void 0 : products.length, \" result found \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 offset-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-wrap\",\n            children: products === null || products === void 0 ? void 0 : products.map(item => {\n              console.log(item);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card m-3\",\n                style: {\n                  width: '20rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${process.env.REACT_APP_API}/api/v1/product/get-product-photo/${item._id}`,\n                  className: \"card-img-top\",\n                  alt: item.name,\n                  style: {\n                    height: '15rem'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  style: {\n                    height: '12rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: item.description.substring(0, 30)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 57,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: item.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-name-price\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-info ms-1\",\n                      onClick: () => {\n                        navigate(`/product-det/${item.slug}`);\n                      },\n                      children: \"More Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 60,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-secondary ms-1\",\n                      children: \"ADD TO CART\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 66,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 33\n                }, this)]\n              }, item._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 33\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(CategoryProduct, \"QzCQN0JCQrDrh05Fac1Mp2GFi9E=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = CategoryProduct;\nexport default CategoryProduct;\nvar _c;\n$RefreshReg$(_c, \"CategoryProduct\");","map":{"version":3,"names":["React","useEffect","useState","Layout","axios","useNavigate","useParams","jsxDEV","_jsxDEV","CategoryProduct","_s","navigate","products","setProducts","category","setCategory","params","slug","getProductByCat","data","get","process","env","REACT_APP_API","error","console","log","children","className","name","fileName","_jsxFileName","lineNumber","columnNumber","length","map","item","style","width","src","_id","alt","height","description","substring","price","onClick","_c","$RefreshReg$"],"sources":["/Users/bhumikamanker/coding_stuff/e-commerce/client/src/pages/CategoryProduct.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Layout from '../components/layout/Layout'\nimport axios from 'axios'\nimport { useNavigate, useParams } from 'react-router-dom'\n\nconst CategoryProduct = () => {\n    // const [total, setTotal] = useState(0);\n    // const [page, setPage] = useState(1);\n    // const [loading, setLoading] = useState(false);\n    const navigate = useNavigate();\n    const [products, setProducts] = useState([])\n    const [category, setCategory] = useState([])\n    const params = useParams();\n\n    // const getTotal = async()=>{\n    //     try {\n    //         const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/product/product-count`)\n    //         setTotal(data?.total)\n    //         console.log(data.success)\n    //         if(data?.success){\n    //             setProducts(data.products)\n    //         }\n    //     } catch (error) {\n    //         console.log(error)\n    //     }\n    // }\n\n    useEffect(()=>{\n        if(params?.slug) getProductByCat();  \n    },[params?.slug])\n    const getProductByCat = async()=>{\n        try {\n            const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/product/product-category/${params.slug}`)\n            setProducts(data?.products)\n            setCategory(data?.category)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n  return (\n    <Layout>\n        <div className=\"col-md-9 text-center\">\n                    <h1 className=\"text-center\">{category.name}</h1>\n                    <h6 className=\"text-center\">{products?.length} result found </h6>\n                    <div className=\"row\">\n                    <div className=\"col-md-8 offset-1\">\n                        <div className=\"d-flex flex-wrap\">\n                        {\n                        products?.map(item => {\n                            console.log(item)\n                            return(\n                                <div className=\"card m-3\" style={{width: '20rem'}}  key={item._id}>\n                                \n                                <img src={`${process.env.REACT_APP_API}/api/v1/product/get-product-photo/${item._id}`} className=\"card-img-top\" alt={item.name} style={{height: '15rem'}}/>\n                                <div className=\"card-body\" style={{height: '12rem'}}>\n                                    <h5 className=\"card-title\">{item.name}</h5>\n                                    <p className=\"card-text\">{item.description.substring(0,30)}</p>\n                                    <p className=\"card-text\">{item.price}</p>\n                                    <div className=\"card-name-price\">\n                                        <button\n                                        className=\"btn btn-info ms-1\"\n                                        onClick={()=>{ navigate(`/product-det/${item.slug}`)}}\n                                        >\n                                        More Details\n                                        </button>\n                                        <button className=\"btn btn-secondary ms-1\">ADD TO CART</button>\n                                    </div>\n                                </div>\n                                </div>\n                            )\n                        })\n                        }\n                    </div>\n                    {/* <div className=\"m-2 p-3\">\n                        {products?.length < total && (\n                            <button className=\"btn btn-warning\"\n                            onClick={(event)=>{\n                                event.preventDefault();\n                                setPage(page+1)\n                            }}>\n                                {loading ? \"Loading...\" : \"loadmore\"}\n                            </button>\n                        )}\n                    </div> */}\n                </div>\n                </div>\n                </div>\n    </Layout>\n  )\n}\n\nexport default CategoryProduct"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,6BAA6B;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B;EACA;EACA;EACA,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMc,MAAM,GAAGV,SAAS,CAAC,CAAC;;EAE1B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAL,SAAS,CAAC,MAAI;IACV,IAAGe,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEC,IAAI,EAAEC,eAAe,CAAC,CAAC;EACtC,CAAC,EAAC,CAACF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEC,IAAI,CAAC,CAAC;EACjB,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAS;IAC7B,IAAI;MACA,MAAM;QAACC;MAAI,CAAC,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,aAAc,oCAAmCP,MAAM,CAACC,IAAK,EAAC,CAAC;MAC7GJ,WAAW,CAACM,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEP,QAAQ,CAAC;MAC3BG,WAAW,CAACI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEL,QAAQ,CAAC;IAC/B,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EACH,oBACEhB,OAAA,CAACL,MAAM;IAAAwB,QAAA,eACHnB,OAAA;MAAKoB,SAAS,EAAC,sBAAsB;MAAAD,QAAA,gBACzBnB,OAAA;QAAIoB,SAAS,EAAC,aAAa;QAAAD,QAAA,EAAEb,QAAQ,CAACe;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAChDzB,OAAA;QAAIoB,SAAS,EAAC,aAAa;QAAAD,QAAA,GAAEf,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEsB,MAAM,EAAC,gBAAc;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjEzB,OAAA;QAAKoB,SAAS,EAAC,KAAK;QAAAD,QAAA,eACpBnB,OAAA;UAAKoB,SAAS,EAAC,mBAAmB;UAAAD,QAAA,eAC9BnB,OAAA;YAAKoB,SAAS,EAAC,kBAAkB;YAAAD,QAAA,EAEjCf,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEuB,GAAG,CAACC,IAAI,IAAI;cAClBX,OAAO,CAACC,GAAG,CAACU,IAAI,CAAC;cACjB,oBACI5B,OAAA;gBAAKoB,SAAS,EAAC,UAAU;gBAACS,KAAK,EAAE;kBAACC,KAAK,EAAE;gBAAO,CAAE;gBAAAX,QAAA,gBAElDnB,OAAA;kBAAK+B,GAAG,EAAG,GAAElB,OAAO,CAACC,GAAG,CAACC,aAAc,qCAAoCa,IAAI,CAACI,GAAI,EAAE;kBAACZ,SAAS,EAAC,cAAc;kBAACa,GAAG,EAAEL,IAAI,CAACP,IAAK;kBAACQ,KAAK,EAAE;oBAACK,MAAM,EAAE;kBAAO;gBAAE;kBAAAZ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eAC3JzB,OAAA;kBAAKoB,SAAS,EAAC,WAAW;kBAACS,KAAK,EAAE;oBAACK,MAAM,EAAE;kBAAO,CAAE;kBAAAf,QAAA,gBAChDnB,OAAA;oBAAIoB,SAAS,EAAC,YAAY;oBAAAD,QAAA,EAAES,IAAI,CAACP;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3CzB,OAAA;oBAAGoB,SAAS,EAAC,WAAW;oBAAAD,QAAA,EAAES,IAAI,CAACO,WAAW,CAACC,SAAS,CAAC,CAAC,EAAC,EAAE;kBAAC;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC/DzB,OAAA;oBAAGoB,SAAS,EAAC,WAAW;oBAAAD,QAAA,EAAES,IAAI,CAACS;kBAAK;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACzCzB,OAAA;oBAAKoB,SAAS,EAAC,iBAAiB;oBAAAD,QAAA,gBAC5BnB,OAAA;sBACAoB,SAAS,EAAC,mBAAmB;sBAC7BkB,OAAO,EAAEA,CAAA,KAAI;wBAAEnC,QAAQ,CAAE,gBAAeyB,IAAI,CAACnB,IAAK,EAAC,CAAC;sBAAA,CAAE;sBAAAU,QAAA,EACrD;oBAED;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACTzB,OAAA;sBAAQoB,SAAS,EAAC,wBAAwB;sBAAAD,QAAA,EAAC;oBAAW;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9D,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA,GAhBmDG,IAAI,CAACI,GAAG;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAiB5D,CAAC;YAEd,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAED;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEb,CAAC;AAAAvB,EAAA,CApFKD,eAAe;EAAA,QAIAJ,WAAW,EAGbC,SAAS;AAAA;AAAAyC,EAAA,GAPtBtC,eAAe;AAsFrB,eAAeA,eAAe;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}